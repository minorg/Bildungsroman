(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56],{4891:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgentCard=void 0;const r=n(5578),i=n(3542),s=n(7919),a=n(1184),o=n(2784),l=n(3015);t.AgentCard=({agent:e,role:t})=>{var n;const u=(0,l.getNamedModelLinks)(e),c=e.thumbnail({targetDimensions:s.thumbnailTargetDimensions});return o.createElement(i.Card,{className:"text-center"},o.createElement(i.CardHeader,{tag:"h6"},o.createElement("div",null,e.name),u.length>0?o.createElement("div",{className:"mt-1",style:{fontSize:"x-small"}},u):null),o.createElement(i.CardBody,null,o.createElement("img",{src:null!==(n=null===c||void 0===c?void 0:c.src)&&void 0!==n?n:r.Image.placeholderSrc(s.thumbnailTargetDimensions),style:{maxHeight:s.thumbnailTargetDimensions.height,maxWidth:s.thumbnailTargetDimensions.width},title:e.name})),(null===c||void 0===c?void 0:c.rights)?o.createElement(i.CardFooter,null,o.createElement(a.RightsParagraph,{material:"Image",rights:c.rights,style:{fontSize:"x-small",marginBottom:0}})):null)}},4147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgentsGallery=void 0;const r=n(2784),i=n(4891);t.AgentsGallery=({agents:e})=>r.createElement(r.Fragment,null,e.map((e=>r.createElement("div",{key:e.uri,style:{marginLeft:"20px",marginBottom:"20px",width:"400px"}},r.createElement(i.AgentCard,{agent:e})))))},6966:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersBadges=void 0;const r=n(2784),i=n(141),s=n(4671);t.FiltersBadges=({facets:e,filters:t})=>r.createElement(r.Fragment,null,t.map(((t,n)=>(0,s.visitFilter)(t,{visitCollectionValueFilter:(e,t)=>r.createElement(i.ValueFilterBadges,{facet:t,filter:e,key:n}),visitInstitutionValueFilter:(e,t)=>r.createElement(i.ValueFilterBadges,{facet:t,filter:e,key:n}),visitStringPropertyValueFilter:(e,t)=>r.createElement(i.ValueFilterBadges,{facet:t,filter:e,key:n})},e))))},3365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersControls=void 0;const r=n(2784),i=n(2784),s=n(3542),a=n(5481);t.FiltersControls=({facets:e,filters:t,onChange:n})=>{const[o,l]=(0,i.useState)(-1);return r.createElement(s.Container,{fluid:!0},t.map(((i,u)=>{const c=(0,a.createFilterControl)({facets:e,filter:i,onChangeFilter:e=>{const r=t.concat();r[u]=e,n(r)}});return c?r.createElement(s.Row,{className:"facet",key:u.toFixed()},r.createElement(s.Col,{xs:12},r.createElement(s.Card,null,r.createElement(s.CardHeader,{onClick:()=>l(o===u?-1:u),style:{cursor:"pointer"}},i.label),r.createElement(s.Collapse,{isOpen:o===u},r.createElement(s.CardBody,{className:"p-0"},c))))):null})))}},9210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LicenseLink=void 0;const r=n(2784);t.LicenseLink=({license:e})=>{if(!e)return null;if("string"===typeof e)return r.createElement("span",null,e);const t=e;return r.createElement("a",{href:t.uri},t.title)}},1053:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavbarSearchForm=void 0;const r=n(3542),i=n(2784),s=n(1435),a=n(5096);t.NavbarSearchForm=({onSearch:e})=>{const[t,n]=i.useState("");return i.createElement(r.Form,{className:"row my-2 my-lg-0",onSubmit:n=>{n.preventDefault(),e(t)}},i.createElement(r.Col,null,i.createElement(r.InputGroup,null,i.createElement(r.Input,{className:"form-control",onChange:e=>n(e.target.value),placeholder:"Search",style:{width:"24em"},type:"search",value:t}),i.createElement(r.Button,{className:"btn-outline-success my-2 my-sm-0",type:"submit"},i.createElement(s.FontAwesomeIcon,{icon:a.faSearch})))))}},2206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=void 0;const r=n(2784),i=n(3542);t.Pagination=({count:e,firstPageText:t,lastPageText:n,nextPageText:s,onChange:a,page:o,previousPageText:l})=>r.createElement(i.Pagination,null,r.createElement(i.PaginationItem,null,r.createElement(i.PaginationLink,{first:!0,onClick:e=>a(e,1)},null!==t&&void 0!==t?t:"\xab")),r.createElement(i.PaginationItem,null,r.createElement(i.PaginationLink,{disabled:1===o,previous:!0,onClick:e=>a(e,o-1)},null!==l&&void 0!==l?l:"\u2039")),[...Array(e).keys()].map((e=>r.createElement(i.PaginationItem,{active:e+1===o,key:e},r.createElement(i.PaginationLink,{onClick:t=>a(t,e+1)},e+1)))),r.createElement(i.PaginationItem,null,r.createElement(i.PaginationLink,{disabled:o+1>e,next:!0,onClick:e=>a(e,o+1)},null!==s&&void 0!==s?s:"\u203a")),r.createElement(i.PaginationItem,null,r.createElement(i.PaginationLink,{last:!0,onClick:t=>a(t,e)},null!==n&&void 0!==n?n:"\xbb")))},1184:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RightsParagraph=void 0;const r=n(2784),i=n(2784),s=n(1450),a=n(9210);t.RightsParagraph=({material:e,rights:t,style:n})=>{const o=(0,i.useMemo)((()=>{const e=[],n=t=>{e.length>0&&e.push(r.createElement("span",{key:e.length},"\xa0\u2022\xa0")),e.push(r.createElement("span",{key:e.length},t))};for(const i of t.creators)n(r.createElement("span",null,r.createElement("i",null,"Creator"),": ",i.toString()));t.statement&&n(r.createElement("span",null,r.createElement("i",null,"Statement"),":"," ",r.createElement(s.RightsStatementLink,{rightsStatement:t.statement})));for(const i of t.holders)n(r.createElement("span",null,r.createElement("i",null,"Holder"),": ",i.toString()));return t.license&&n(r.createElement("span",null,r.createElement("i",null,"License"),": ",r.createElement(a.LicenseLink,{license:t.license}))),e}),[t]);return r.createElement("p",{style:n},e," rights: ",o)}},1450:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RightsStatementLink=void 0;const r=n(2784);t.RightsStatementLink=({rightsStatement:e})=>{if(!e)return null;if("string"===typeof e)return r.createElement("span",null,e);const t=e;return r.createElement("a",{href:t.uri},t.prefLabel)}},7953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RightsTable=void 0;const r=n(2784),i=n(3542),s=n(1450),a=n(9210),o=({cellClassName:e,cellStyle:t,label:n,rowClassName:i,rowStyle:s,value:a})=>a?r.createElement("tr",{className:i,style:s},r.createElement("td",{className:e,style:t},r.createElement("strong",null,n)),r.createElement("td",{className:e},a)):null;t.RightsTable=({cellClassName:e,cellStyle:t,rights:n,rowClassName:l,rowStyle:u,tableClassName:c,tableStyle:d})=>{const h={cellClassName:e,cellStyle:t,rowClassName:l,rowStyle:u};return r.createElement(i.Table,{className:c,size:"sm",style:d},r.createElement("tbody",null,r.createElement(o,Object.assign({},h,{label:"Statement",value:r.createElement(s.RightsStatementLink,{rightsStatement:n.statement})})),n.creators.map(((e,t)=>r.createElement(o,Object.assign({},h,{key:"creator"+t.toString(),label:"Creator",value:e.toString()})))),n.holders.map(((e,t)=>r.createElement(o,Object.assign({},h,{key:"holder"+t.toString(),label:"Holder",value:e.toString()})))),r.createElement(o,Object.assign({},h,{label:"License",value:r.createElement(a.LicenseLink,{license:n.license})}))))}},141:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueFilterBadges=void 0;const r=n(2784),i=n(3542);class s extends r.Component{render(){var e,t;const{facet:n,filter:s}=this.props,a=[];return s.excludeKnown&&a.push(r.createElement("h5",{className:"d-inline-block ms-2",key:`${s.label}-excludeKnown`},r.createElement(i.Badge,{className:"p-2",color:"warning",pill:!0},"Exclude\xa0",s.label,": Known"))),s.excludeUnknown&&a.push(r.createElement("h5",{className:"d-inline-block ms-2",key:`${s.label}-excludeUnknown`},r.createElement(i.Badge,{className:"p-2",color:"warning",pill:!0},"Exclude\xa0",s.label,": Unknown"))),(null!==(e=s.excludeValues)&&void 0!==e?e:[]).forEach(((e,t)=>{var o,l;a.push(r.createElement("h5",{className:"d-inline-block ms-2",key:`${s.label}-excludeValue-${t}`},r.createElement(i.Badge,{className:"p-2",color:"warning",pill:!0},"Exclude\xa0",s.label,":\xa0",null!==(l=null===(o=null===n||void 0===n?void 0:n.values.find((t=>t.value===e)))||void 0===o?void 0:o.label)&&void 0!==l?l:e)))})),(null!==(t=s.includeValues)&&void 0!==t?t:[]).forEach(((e,t)=>{var o,l;a.push(r.createElement("h5",{className:"d-inline-block ms-2",key:`${s.label}-includeValue-${t}`},r.createElement(i.Badge,{className:"p-2",color:"warning",pill:!0},"Include\xa0",s.label,":\xa0",null!==(l=null===(o=null===n||void 0===n?void 0:n.values.find((t=>t.value===e)))||void 0===o?void 0:o.label)&&void 0!==l?l:e)))})),r.createElement(r.Fragment,null,a)}}t.ValueFilterBadges=s},9546:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueFilterControl=void 0;const r=n(2784),i=n(2784),s=n(4671),a=n(3542),o=n(1435),l=n(5096),u=n(1605);t.ValueFilterControl=e=>{const{facet:t,filter:n,onChange:c}=e,[d,h]=(0,i.useState)(!1),m=(0,i.useCallback)((()=>h(!d)),[d]),g=r.createElement(s.ValueFilterTable,{facet:t,filter:n,onChange:c});return t.values.some((e=>!!e.thumbnail))?r.createElement(r.Fragment,null,r.createElement(a.Container,{fluid:!0},r.createElement(a.Row,{className:"mt-2"},r.createElement(a.Col,{className:"d-flex justify-content-end",xs:12},r.createElement(a.Button,{color:"primary",onClick:()=>h(!0),title:"gallery view"},r.createElement(o.FontAwesomeIcon,{icon:l.faImages})))),r.createElement(a.Row,null,r.createElement(a.Col,{className:"px-0",xs:12},g))),r.createElement(a.Modal,{centered:!0,isOpen:d,keyboard:!0,toggle:m},r.createElement(a.ModalHeader,{toggle:m},n.label),r.createElement(a.ModalBody,null,r.createElement(u.ValueFilterGallery,{facet:t,filter:n,onChange:c})))):g}},1605:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueFilterGallery=void 0;const r=n(2784),i=n(2784),s=n(5578),a=n(7919),o=n(2779),l=n(3542),u=n(3809),c=e=>{var t;const{filterState:n,onChange:u,value:c}=e,d=c.thumbnail?c.thumbnail.src:s.Image.placeholderSrc(a.thumbnailTargetDimensions),h=(0,i.useCallback)((()=>{n.includesValue(c.value)?n.excludeValue(c.value):n.includeValue(c.value),u(n.snapshot)}),[n,c]),[m,g]=(0,i.useState)(""),f=(0,i.useCallback)((e=>{g(e===m?"":e)}),[m]);return r.createElement(l.Card,{className:(0,o.default)({"border-info":n.includesValue(c.value),"mb-4":!0,"me-4":!0,"text-center":!0}),style:{borderWidth:"4px"}},r.createElement(l.CardHeader,null,r.createElement(l.FormGroup,{check:!0},r.createElement(l.Label,{check:!0},r.createElement(l.Input,{type:"checkbox",checked:n.includesValue(c.value),onChange:h}),c.label))),r.createElement("a",{onClick:h},r.createElement(l.CardImg,{src:d,style:{height:a.thumbnailTargetDimensions.height,marginBottom:"20px",marginTop:"20px",width:a.thumbnailTargetDimensions.width},title:null!==(t=c.label)&&void 0!==t?t:c.value.toString()})),c.thumbnail&&c.thumbnail.rights?r.createElement(l.CardBody,null,r.createElement(l.Accordion,{open:m,toggle:f},r.createElement(l.AccordionItem,null,r.createElement(l.AccordionHeader,{targetId:"0"},"Image rights"),r.createElement(l.AccordionBody,{accordionId:"0"},r.createElement("table",{style:{fontSize:"xx-small"}},Object.keys(c.thumbnail.rights).map((e=>{const t=c.thumbnail.rights[e];if(t)return r.createElement("tr",null,r.createElement("td",{style:{padding:0,textAlign:"left"}},r.createElement("strong",null,e[0].toUpperCase()+e.substring(1))),r.createElement("td",{style:{padding:0,textAlign:"left"}},t))}))))))):null)};t.ValueFilterGallery=e=>{const{facet:t,filter:n,onChange:s}=e,a=(0,i.useMemo)((()=>new u.ValueFilterState({filter:n,valueUniverse:t.values.map((e=>e.value))})),[t,n]);return r.createElement(r.Fragment,null,t.values.map((e=>r.createElement("div",{key:e.value.toString(),style:{marginLeft:"20px",marginBottom:"20px"}},r.createElement(c,{filterState:a,onChange:s,value:e})))))}},1709:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkCard=void 0;const r=n(2784),i=n(2784),s=n(5578),a=n(3542),o=n(7919),l=n(1184),u=n(3015),c={fontSize:"xx-small",marginBottom:0};t.WorkCard=({work:e,renderInstitutionLink:t,renderWorkLink:n})=>{var d;const[h,m]=(0,i.useState)(0),g=(0,u.getNamedModelLinks)(e),f=e.thumbnail({targetDimensions:o.thumbnailTargetDimensions}),p=null!==(d=null===f||void 0===f?void 0:f.src)&&void 0!==d?d:s.Image.placeholderSrc(o.thumbnailTargetDimensions),v=[];return v.push({title:"Image",content:r.createElement(a.Card,{className:"border-0 text-center"},r.createElement(a.CardBody,null,r.createElement("img",{src:p,style:{maxHeight:o.thumbnailTargetDimensions.height,maxWidth:o.thumbnailTargetDimensions.width},title:e.title})),f&&f.rights?r.createElement(a.CardFooter,null,r.createElement(l.RightsParagraph,{material:"Image",rights:f.rights,style:c})):null)}),e.abstract&&v.push({title:"Summary",content:r.createElement(a.Card,{className:"border-0"},r.createElement(a.CardBody,{style:{fontSize:"small"}},e.abstract.toString()),e.abstract instanceof s.Text&&e.abstract.rights?r.createElement(a.CardFooter,{className:"text-center"},r.createElement(l.RightsParagraph,{material:"Text",rights:e.abstract.rights,style:c})):null)}),r.createElement(a.Card,{className:"text-center"},r.createElement(a.CardHeader,{tag:"h4"},n(e.uri,r.createElement(r.Fragment,null,e.title)),g.length>0?r.createElement("div",{className:"mt-1",style:{fontSize:"x-small"}},g):null),r.createElement(a.CardBody,null,1===v.length?v[0].content:r.createElement(r.Fragment,null,r.createElement(a.Nav,{tabs:!0},v.map(((e,t)=>r.createElement(a.NavItem,{key:t},r.createElement(a.NavLink,{className:h===t?"active":void 0,onClick:()=>m(t),style:{cursor:"pointer",fontSize:"small"}},e.title))))),r.createElement(a.TabContent,{activeTab:h.toString()},v.map(((e,t)=>r.createElement(a.TabPane,{key:t,tabId:t.toString()},r.createElement("div",{className:"mt-2"},e.content))))))))}},799:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkContainer=void 0;const r=n(5578),i=n(3542),s=n(2784),a=n(2784),o=n(4540),l=n(1184),u=n(4891),c=n(5461),d={fontSize:"x-small",marginBottom:0};t.WorkContainer=({work:e,workLocationsMapComponent:t})=>{const n=(0,a.useMemo)((()=>{var t,n;return null!==(n=null!==(t=e.abstract)&&void 0!==t?t:e.description)&&void 0!==n?n:null}),[e]),h=(0,a.useMemo)((()=>n&&n instanceof r.Text&&n.rights?n.rights:e.rights?e.rights:e.institution.rights),[e,n]),m=[];for(const r of e.agents)m.find((e=>e.agent.uri===r.agent.uri))||m.push(r);const[g,f]=(0,a.useState)(null),[p,v]=(0,a.useState)(0),y=[];let b;e.images.length>0&&y.push({title:"Images",content:s.createElement(i.Card,{className:"border-0"},s.createElement(i.CardBody,{className:"text-center"},s.createElement(o.WorkImagesCarousel,{hideImageRights:!0,key:y.length,onShowImage:f,work:e})),g&&g.rights?s.createElement(i.CardFooter,{className:"text-center"},s.createElement(l.RightsParagraph,{material:"Image",rights:g.rights,style:d})):null)}),m.length>0&&y.push({title:"People",content:s.createElement(i.Container,{fluid:!0,key:y.length},m.map(((e,t)=>s.createElement(i.Row,{className:t>0?"mt-4":"mt-2",key:t},s.createElement(i.Col,{xs:12,className:"p-0"},s.createElement(u.AgentCard,{agent:e.agent,role:e.role}))))))}),e.events.length>0&&y.push({title:"Timeline",content:s.createElement(c.WorkEventsTimeline,{page:0,pageMax:0,setPage:()=>{},workEvents:e.events})}),t&&e.locations.length>0&&y.push({title:"Map",content:s.createElement(t,{workLocations:e.locations.map((t=>({location:t.location,role:t.role,title:t.title,work:{title:e.title,uri:e.uri}})))})}),1===y.length?b=y[0].content:y.length>1&&(b=s.createElement(s.Fragment,null,s.createElement(i.Nav,{tabs:!0},y.map(((e,t)=>s.createElement(i.NavItem,{key:t},s.createElement(i.NavLink,{className:p===t?"active":void 0,onClick:()=>v(t)},e.title))))),s.createElement(i.TabContent,{activeTab:p.toString()},y.map(((e,t)=>s.createElement(i.TabPane,{key:t,tabId:t.toString()},s.createElement("div",{className:"mt-2"},e.content)))))));const w=n?s.createElement(i.Container,{fluid:!0},s.createElement(i.Row,null,"\xa0"),s.createElement(i.Row,{className:"mt-4"},s.createElement(i.Col,{className:"text-wrap",xs:12,dangerouslySetInnerHTML:{__html:n.toString()}}))):null;return s.createElement(i.Container,{fluid:!0},s.createElement(i.Row,null,b?s.createElement(i.Col,{xs:12,sm:12,lg:w?8:12,xl:w?6:12,style:{minHeight:600,minWidth:600}},b):null,s.createElement(i.Col,{className:"d-flex justify-content-center px-0",xs:12,sm:12,lg:b?4:12,xl:b?6:12},w)),n&&h?s.createElement(i.Row,{className:"mt-2"},s.createElement(i.Col,{style:{textAlign:"center"},xs:12},s.createElement(l.RightsParagraph,{material:"Text",rights:h,style:d}))):null)}},5461:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkEventsTimeline=void 0;const r=n(5578),i=n(1531),s=n(5096),a=n(1435),o=n(6557),l=n(2784),u=n(1184);t.WorkEventsTimeline=({page:e,pageMax:t,setPage:n,workEvents:c})=>l.createElement(i.VerticalTimeline,null,c.map((e=>{var t,n;return l.createElement(i.VerticalTimelineElement,{date:null!==(t=e.displayDate)&&void 0!==t?t:void 0,key:e.uri,icon:l.createElement(a.FontAwesomeIcon,{icon:(0,o.getWorkEventIcon)(e)})},l.createElement("h3",null,null!==(n=e.title)&&void 0!==n?n:e.work.title),e.abstract?l.createElement(l.Fragment,null,l.createElement("div",{dangerouslySetInnerHTML:{__html:e.abstract.toString()}}),e.abstract instanceof r.Text&&e.abstract.rights?l.createElement(u.RightsParagraph,{material:"Text",rights:e.abstract.rights,style:{fontSize:"x-small",marginBottom:0}}):null):null)})),e<t?l.createElement(i.VerticalTimelineElement,{iconOnClick:()=>n(e+1),icon:l.createElement(a.FontAwesomeIcon,{icon:s.faEllipsisV})}):null)},4540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkImagesCarousel=void 0;const r=n(2784),i=n(2784),s=n(3542),a=n(2579),o=n(7953),l={height:600,width:600};t.WorkImagesCarousel=({hideImageRights:e,onShowImage:t,work:n})=>{const u=n.originalImages,c=t=>{var n;const i=t.src;if(!i)return null;const s=t.thumbnail({targetDimensions:l}),u=null===s||void 0===s?void 0:s.src;return s&&u?r.createElement("div",null,r.createElement("div",null,r.createElement(a.default,{image:{className:"img",src:u,style:{maxHeight:l.height,maxWidth:l.width}},zoomImage:{className:"img--zoomed",src:i,style:null!==(n=null===t||void 0===t?void 0:t.exactDimensions)&&void 0!==n?n:void 0}})),!e&&t&&t.rights?r.createElement("div",{className:"mt-2"},r.createElement("h6",{className:"text-center"},"Image rights"),r.createElement(o.RightsTable,{rights:t.rights})):null):r.createElement("img",{className:"img",src:i,style:{maxHeight:l.height,maxWidth:l.width}})};(0,i.useEffect)((()=>{t&&u.length>0&&t(u[0])}),[n]);const[d,h]=(0,i.useState)(0),m=(0,i.useCallback)((()=>{const e=d===u.length-1?0:d+1;h(e),t&&t(u[e])}),[d]),g=(0,i.useCallback)((()=>{const e=0===d?u.length-1:d-1;h(e),t&&t(u[e])}),[d]);return 1===u.length?(console.debug("work",n.uri,"only has one image, rendering without carousel"),c(u[0])):r.createElement(s.Carousel,{activeIndex:d,autoPlay:!1,next:m,previous:g,slide:!1},u.map((e=>{const t=c(e);return t?r.createElement(s.CarouselItem,{key:e.uri},t):null})),r.createElement(s.CarouselControl,{direction:"prev",directionText:"Previous",onClickHandler:g}),r.createElement(s.CarouselControl,{direction:"next",directionText:"Next",onClickHandler:m}))}},6363:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkSearchContainer=void 0;const r=n(3542),i=n(2784),s=n(2784),a=n(6966),o=n(2661),l=n(2206),u=n(7919),c=n(4671),d=n(5610),h=n(3365),m=n(4147),g=n(5461);t.WorkSearchContainer=({onChangeFilters:e,renderInstitutionLink:t,renderWorkLink:n,setWorkAgentsPage:f,setWorkEventsPage:p,setWorksPage:v,workAgentsPage:y,workEventsPage:b,workLocationsMapComponent:w,workQuery:k,workQueryService:_,worksPage:E})=>{const[x,S]=(0,d.useQueryParam)("tab"),N=null!==x&&void 0!==x?x:"works",[O,M]=(0,s.useState)(null),[P,j]=(0,s.useState)(null),[C,I]=(0,s.useState)(null),[U,D]=(0,s.useState)(null),[B,T]=(0,s.useState)(!1),[V,R]=(0,s.useState)(!1),[W,F]=(0,s.useState)(!1),[L,A]=(0,s.useState)(!1);if((0,s.useEffect)((()=>{"works"!==N&&null!==U||L||(console.debug("getWorks"),A(!0),_.getWorks({limit:4,offset:4*E,valueFacetValueThumbnailSelector:{targetDimensions:u.thumbnailTargetDimensions},workJoinSelector:(0,c.workSearchWorkJoinSelector)(u.thumbnailTargetDimensions)},k).then((e=>{console.debug("getWorks result:",e.totalWorksCount),D(e),A(!1)})))}),[x,k,_,E]),(0,s.useEffect)((()=>{"workAgents"!==N||B||(console.debug("getWorkAgents"),T(!0),_.getWorkAgents({agentJoinSelector:{thumbnail:{targetDimensions:u.thumbnailTargetDimensions},works:{}},limit:4,offset:4*y},k).then((e=>{console.debug("getWorkAgents result:",e.totalWorkAgentsCount),M(e),T(!1)})))}),[x,k,_,y]),(0,s.useEffect)((()=>{"workEvents"!==N||V||(console.debug("getWorkEvents"),R(!0),_.getWorkEvents({limit:4*(b+1),offset:0,requireDate:!0,workEventJoinSelector:{work:{}}},k).then((e=>{console.info("getWorkEvents result:",e.totalWorkEventsCount),j(e),R(!1)})))}),[x,k,_,b]),(0,s.useEffect)((()=>{"workLocations"!==N||W||(console.debug("getWorkLocations"),F(!0),_.getWorkLocations({},k).then((e=>{console.debug("getWorkLocations result:",e.workLocations.length),I(e),F(!1)})))}),[x,k,_,y]),null===U)return null;const H=[];return H.push({key:"works",title:"Works",content:i.createElement(r.Container,{fluid:!0},i.createElement(r.Row,null,i.createElement(o.WorksGallery,{works:U.dataset.works,renderInstitutionLink:t,renderWorkLink:n})),i.createElement(r.Row,{className:"mt-4"},i.createElement(r.Col,{className:"d-flex justify-content-center",xs:12},i.createElement(l.Pagination,{count:(0,c.calculatePageMax)({objectsPerPage:4,totalObjects:U.totalWorksCount})+1,page:E+1,onChange:(e,t)=>v(t-1)}))))}),H.push({key:"workAgents",title:"People",content:O?i.createElement(r.Container,{fluid:!0},i.createElement(r.Row,null,i.createElement(m.AgentsGallery,{agents:O.workAgentUris.map((e=>O.dataset.agentByUri(e)))})),i.createElement(r.Row,{className:"mt-4"},i.createElement(r.Col,{className:"d-flex justify-content-center",xs:12},i.createElement(l.Pagination,{count:(0,c.calculatePageMax)({objectsPerPage:4,totalObjects:O.totalWorkAgentsCount})+1,page:y+1,onChange:(e,t)=>f(t-1)})))):null}),H.push({key:"workEvents",title:"Timeline",content:P?i.createElement(g.WorkEventsTimeline,{page:b,pageMax:(0,c.calculatePageMax)({objectsPerPage:4,totalObjects:P.totalWorkEventsCount}),setPage:p,workEvents:P.workEventUris.map((e=>P.dataset.workEventByUri(e)))}):null}),w&&H.push({key:"workLocations",title:"Map",content:C&&C.workLocations.length>0?i.createElement(w,{workLocations:C.workLocations}):null}),i.createElement(r.Container,{fluid:!0},U.totalWorksCount>0?i.createElement(i.Fragment,null,i.createElement(r.Row,null,i.createElement(r.Col,{className:"d-flex justify-content-between",xs:12},i.createElement("h4",null,i.createElement("span",null,U.totalWorksCount),"\xa0",i.createElement("span",null,1===U.totalWorksCount?"work":"works"),"\xa0",k.text?i.createElement("span",null,"matching ",i.createElement("i",null,k.text)):i.createElement("span",null,"matched")),k.filters.length>0?i.createElement("div",null,i.createElement(a.FiltersBadges,{facets:U.facets,filters:k.filters})):null)),i.createElement(r.Row,null,i.createElement(r.Col,{xs:12},i.createElement("hr",null)))):null,i.createElement(r.Row,null,i.createElement(r.Col,{xs:"2"},i.createElement(h.FiltersControls,{facets:U.facets,filters:k.filters,onChange:e})),i.createElement(r.Col,{xs:"10"},1===H.length?H[0].content:i.createElement(i.Fragment,null,i.createElement(r.Nav,{tabs:!0},H.map((e=>i.createElement(r.NavItem,{key:e.key},i.createElement(r.NavLink,{className:N===e.key?"active":void 0,onClick:()=>S(e.key),style:{cursor:"pointer",fontSize:"small"}},e.title))))),i.createElement(r.TabContent,{activeTab:N},H.map((e=>i.createElement(r.TabPane,{key:e.key,tabId:e.key},i.createElement("div",{className:"mt-2"},e.content)))))))))}},2661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorksGallery=void 0;const r=n(2784),i=n(1709);t.WorksGallery=({works:e,renderInstitutionLink:t,renderWorkLink:n})=>r.createElement(r.Fragment,null,e.map((e=>r.createElement("div",{key:e.uri,style:{marginLeft:"20px",marginBottom:"20px",width:"400px"}},r.createElement(i.WorkCard,{work:e,renderInstitutionLink:t,renderWorkLink:n})))))},5481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFilterControl=void 0;const r=n(2784),i=n(4671),s=n(9546);t.createFilterControl=({facets:e,filter:t,onChangeFilter:n})=>(0,i.createFilterControl)({facets:e,filter:t,factory:{createCollectionValueFilterControl:(e,t)=>r.createElement(s.ValueFilterControl,{facet:e,filter:t,onChange:n}),createInstitutionValueFilterControl:(e,t)=>r.createElement(s.ValueFilterControl,{facet:e,filter:t,onChange:n}),createStringPropertyValueFilterControl:(e,t)=>r.createElement(s.ValueFilterControl,{facet:e,filter:t,onChange:n})}})},3015:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNamedModelLinks=void 0;const r=n(2784);t.getNamedModelLinks=e=>{const{page:t,wikidataConceptUri:n,wikipediaUrl:i}=e,s=[];for(const a of[{href:t,text:"Home page"},{href:n,text:"Wikidata"},{href:i,text:"Wikipedia"}])a.href&&(s.length>0&&s.push(r.createElement("span",{key:s.length},"\xa0\u2022\xa0")),s.push(r.createElement("a",{href:a.href,key:s.length},a.text)));return s}},6557:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkEventIcon=void 0;const r=n(5578),i=n(5096);t.getWorkEventIcon=e=>(0,r.visitWorkEvent)(e,{visitWorkCreation:e=>i.faLightbulb})},2304:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4891),t),i(n(5481),t),i(n(3365),t),i(n(6966),t),i(n(3015),t),i(n(6557),t),i(n(9210),t),i(n(1053),t),i(n(2206),t),i(n(1450),t),i(n(1184),t),i(n(7953),t),i(n(7919),t),i(n(141),t),i(n(1709),t),i(n(799),t),i(n(5461),t),i(n(4540),t),i(n(2661),t),i(n(6363),t)},7919:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.thumbnailTargetDimensions=void 0,t.thumbnailTargetDimensions={height:200,width:200}},1283:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7790:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5121:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9696:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultAppConfiguration=void 0;const r=n(3430),i="http://purl.org/dc/terms/",s=[{filterable:!0,label:"Creator",uri:i+"creator"},{label:"Description",hidden:!0,searchable:!0,uri:i+"description"},{filterable:!0,label:"Medium",uri:i+"medium"},{filterable:!0,label:"Subject",uri:i+"subject"},{label:"Title",hidden:!0,searchable:!0,uri:i+"title"},{filterable:!0,label:"Type",uri:i+"type"}];t.defaultAppConfiguration=(0,r.imputeAppConfiguration)({bootstrapStylesheetHref:"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css",workProperties:s,search:{filters:[{label:"Collection",type:"CollectionValue"},{label:"Institution",type:"InstitutionValue"}]}})},3430:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imputeAppConfiguration=void 0;t.imputeAppConfiguration=e=>{if(!e.workProperties)return e;const t=((e,t)=>{var n,r;const i=null!==(r=null===(n=null===t||void 0===t?void 0:t.filters)||void 0===n?void 0:n.concat())&&void 0!==r?r:[];for(const s of e)s.filterable&&(i.some((e=>"StringPropertyValue"===e.type&&e.propertyUri===s.uri))||i.push({label:s.label,propertyUri:s.uri,type:"StringPropertyValue"}));if(t||0!==i.length)return Object.assign(Object.assign({},t),{filters:i})})(e.workProperties,e.search);return t?Object.assign(Object.assign({},e),{search:t}):e}},5523:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1283),t),i(n(9696),t),i(n(3430),t),i(n(7790),t),i(n(5121),t)},7937:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7063:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7853:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9779:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3646:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5546:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4508:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6440:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},757:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueFilterState=void 0;t.ValueFilterState=class{constructor(e){if(this.initialFilter=e.filter,this.valueUniverse=e.valueUniverse,this._includeUnknown=!this.initialFilter.excludeUnknown,this.initialFilter.excludeKnown?(this.excludeValueSet=new Set(this.valueUniverse),this.includeValueSet=new Set):(this.excludeValueSet=this.initialFilter.excludeValues?new Set(this.initialFilter.excludeValues):new Set,this.includeValueSet=this.initialFilter.includeValues?new Set(this.initialFilter.includeValues):new Set),this.valueUniverse.forEach((e=>{var t;if(this.excludeValueSet.has(e)){if(this.includeValueSet.has(e))throw new RangeError("value ${valueId} both included and excluded")}else this.includeValueSet.has(e)||((null===(t=this.initialFilter)||void 0===t?void 0:t.includeValues)&&this.initialFilter.includeValues.length>0?this.excludeValueSet.add(e):this.includeValueSet.add(e))})),this.includeValueSet.size+this.excludeValueSet.size!==this.valueUniverse.length)throw new RangeError("sets should account for all values")}change(e,t){if(this.excludeValueSet.delete(t),this.includeValueSet.delete(t),e?this.includeValueSet.add(t):this.excludeValueSet.add(t),this.includeValueSet.size+this.excludeValueSet.size!==this.valueUniverse.length)throw new RangeError("sets should account for all values")}excludeAll(){this.excludeKnown(),this.excludeUnknown=!0}excludeKnown(){for(const e of this.valueUniverse)this.excludeValue(e)}get excludeUnknown(){return!this.includeUnknown}set excludeUnknown(e){this._includeUnknown=!e}excludeValue(e){this.change(!1,e)}includeAll(){this.includeKnown(),this.includeUnknown=!0}includeKnown(){for(const e of this.valueUniverse)this.includeValue(e)}get includeUnknown(){return this._includeUnknown}set includeUnknown(e){this._includeUnknown=e}includeValue(e){this.change(!0,e)}includesValue(e){return this.includeValueSet.has(e)}get snapshot(){let e,t,n;if(this.includeValueSet.size===this.valueUniverse.length);else if(this.excludeValueSet.size===this.valueUniverse.length)e=!0;else if(this.includeValueSet.size>=this.excludeValueSet.size){if(0===this.excludeValueSet.size)throw new RangeError("must explicitly exclude");t=[...this.excludeValueSet]}else{if(0===this.includeValueSet.size)throw new EvalError("must explicitly include");n=[...this.includeValueSet]}return JSON.parse(JSON.stringify(Object.assign(Object.assign({},this.initialFilter),{excludeKnown:e,excludeUnknown:!!this.excludeUnknown||void 0,excludeValues:t,includeValues:n})))}}},3809:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(7937),t),i(n(7063),t),i(n(7853),t),i(n(9779),t),i(n(3646),t),i(n(5546),t),i(n(4508),t),i(n(6440),t),i(n(757),t)},998:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Agent=void 0;const r=n(7375),i=n(6252),s=n(7678);class a extends((0,i.Mixin)(r.NamedModel,s.HasImages,s.HasName,s.HasPage,s.HasRelations)){toString(){return this.name}}t.Agent=a},7566:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Collection=void 0;const r=n(7375),i=n(140),s=n(6252),a=n(7678);class o extends((0,s.Mixin)(r.NamedModel,a.HasAbstract,a.HasInstitution,a.HasImages,a.HasTitle)){thumbnail(e){const t=this.dataset.imagesByDepictsUri(this.uri);if(t.length>0){const n=(0,i.selectThumbnail)(t,e);if(n)return n}for(const n of this.works){const t=n.thumbnail(e);if(t)return t}return null}get works(){return this.dataset.collectionWorks(this.uri)}}t.Collection=o},8685:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5055:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataSubsetter=void 0;const r=n(400),i=n(998),s=n(7655),a=n(140),o=n(8930);t.DataSubsetter=class{constructor(e){this.completeDataset=e.completeDataset,this.configuration=e.configuration}addAgentDataset(e,t,n){if(t.addAgent(e),n.thumbnail){const r=this.completeDataset.agentByUri(e.uri).thumbnail(n.thumbnail);r&&this.addImageDataset({},t,r)}return n.works&&this.addWorkDatasets(t,this.completeDataset.agentWorks(e.uri),n.works),t}addCollectionDataset(e,t,n){if(e.addCollection(t),n.thumbnail){const r=this.completeDataset.collectionByUri(t.uri).thumbnail(n.thumbnail);r&&(this.addImageDataset({},e,r),r.depictsUri!==t.uri&&e.addWork(this.completeDataset.workByUri(r.depictsUri)))}return n.institution&&this.addInstitutionDataset(e,this.completeDataset.institutionByUri(t.institutionUri),n.institution),n.works&&this.addWorkDatasets(e,this.completeDataset.collectionWorks(t.uri),n.works),e}addImageDataset(e,t,n){return t.addImage(n),this.addRightsDataset(e,t,n.rights),t}addInstitutionDataset(e,t,n){if(e.addInstitution(t),this.addRightsDataset({},e,t.rights),n.thumbnail){const i=this.completeDataset.institutionByUri(t.uri).thumbnail(n.thumbnail);if(i&&(this.addImageDataset({},e,i),i.depictsUri!==t.uri))try{e.addWork(this.completeDataset.workByUri(i.depictsUri))}catch(r){e.addCollection(this.completeDataset.collectionByUri(i.depictsUri))}}if(n.collections)for(const i of this.completeDataset.institutionCollections(t.uri))this.addCollectionDataset(e,i,n.collections);return n.works&&this.addWorkDatasets(e,this.completeDataset.institutionWorks(t.uri),n.works),e}addNamedValuesDataset(e,t,n){if(e.addNamedValues(t),n.thumbnail)for(const r of t){const t=(0,a.selectThumbnail)(this.completeDataset.imagesByDepictsUri(r.uri),n.thumbnail);t&&this.addImageDataset({},e,t)}}addWorkDataset(e,t,n){return this.addWorkDatasets(e,[t],n)}addWorkDatasets(e,t,n){var r,i,a,o,l,u;const c=n.collections?new Set:void 0,d=n.institution?new Set:void 0,h={};for(const m of t){e.addWork(m),this.addRightsDataset(null!==(r=n.agents)&&void 0!==r?r:{},e,m.rights);{const t=m.abstract;t&&t instanceof s.Text&&this.addRightsDataset(null!==(i=n.agents)&&void 0!==i?i:{},e,t.rights)}if(n.allImages)for(const t of this.completeDataset.imagesByDepictsUri(m.uri))this.addImageDataset(null!==(a=n.agents)&&void 0!==a?a:{},e,t);else if(n.thumbnail){const t=this.completeDataset.workByUri(m.uri).thumbnail(n.thumbnail);t&&this.addImageDataset(null!==(o=n.agents)&&void 0!==o?o:{},e,t)}if(n.events)for(const t of m.events)this.addWorkEventDataset(e,n.events,t);if(c)for(const e of m.collectionUris)c.add(e);if(d&&d.add(m.institutionUri),n.propertyNamedValues&&this.configuration.workProperties)for(const e of this.configuration.workProperties)for(const t of m.propertyNamedValues(e.uri))h[t.uri]||(h[t.uri]=t)}if(c)for(const s of c)this.addCollectionDataset(e,this.completeDataset.collectionByUri(s),null!==(l=n.collections)&&void 0!==l?l:{});if(d)for(const s of d)this.addInstitutionDataset(e,this.completeDataset.institutionByUri(s),null!==(u=n.institution)&&void 0!==u?u:{});return n.propertyNamedValues&&this.addNamedValuesDataset(e,Object.keys(h).map((e=>h[e])),n.propertyNamedValues),e}addRightsDataset(e,t,n){if(!n)return t;for(const a of n.creators)a instanceof i.Agent&&this.addAgentDataset(a,t,e);for(const a of n.holders)a instanceof i.Agent&&this.addAgentDataset(a,t,e);const r=n.license;r&&"string"!==typeof r&&t.addLicense(r);const s=n.statement;return s&&"string"!==typeof s&&t.addRightsStatement(s),t}addWorkCreationDataset(e,t,n){if(e.addEvent(n),t.agents)for(const r of n.creatorAgents)this.addAgentDataset(r,e,t.agents);return t.work&&this.addWorkDataset(e,n.work,t.work),e}addWorkEventDataset(e,t,n){const r=this;return(0,o.visitWorkEvent)(n,{visitWorkCreation:n=>r.addWorkCreationDataset(e,t,n)})}agentsDataset(e,t){const n=new r.DatasetBuilder;for(const r of e)this.addAgentDataset(r,n,null!==t&&void 0!==t?t:{});return n.build()}collectionDataset(e,t){return this.addCollectionDataset(new r.DatasetBuilder,e,null!==t&&void 0!==t?t:{}).build()}institutionDataset(e,t){return this.addInstitutionDataset(new r.DatasetBuilder,e,null!==t&&void 0!==t?t:{}).build()}institutionsDataset(e,t){const n=new r.DatasetBuilder;for(const r of e)this.addInstitutionDataset(n,r,null!==t&&void 0!==t?t:{});return n.build()}workDataset(e,t){return this.addWorkDataset(new r.DatasetBuilder,e,null!==t&&void 0!==t?t:{}).build()}workEventsDataset(e,t){const n=new r.DatasetBuilder;for(const r of e)this.addWorkEventDataset(n,null!==t&&void 0!==t?t:{},r);return n.build()}worksDataset(e,t){const n=new r.DatasetBuilder;return this.addWorkDatasets(n,e,null!==t&&void 0!==t?t:{}),n.build()}}},80:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dataset=void 0;const r=n(3489),i=n(379),s=n(3679),a=n(3262),o=n(5493),l=n(6053),u=n(5411),c=n(3345),d=n(5836),h=n(8188),m=n(4811),g=n(7259),f=n(4807),p=n(8924),v=n(6252),y=(()=>{const e={};return e[u.CMS.WorkCreation.value]=p.WorkCreation,e})();class b{constructor(e){this.store=e}agentByUri(e){for(const t of[this.organizationsByUriIndex,this.peopleByUriIndex]){const n=t[e];if(n)return n}throw new RangeError("no such agent "+e)}get agents(){return[...this.organizations,...this.people]}agentWorks(e){var t;return null!==(t=this.worksByAgentUriIndex[e])&&void 0!==t?t:[]}collectionWorks(e){var t;return null!==(t=this.worksByCollectionUriIndex[e])&&void 0!==t?t:[]}get collections(){return this._collections||this.readCollections(),this._collections}get collectionsByInstitutionUriIndex(){return this._collectionsByInstitutionUriIndex||this.readCollections(),(0,g.requireDefined)(this._collectionsByInstitutionUriIndex)}collectionByUri(e){const t=this.collectionsByUriIndex[e];if(!t)throw new RangeError("no such collection "+e);return t}get collectionsByUriIndex(){return this._collectionsByUriIndex||this.readCollections(),(0,g.requireDefined)(this._collectionsByUriIndex)}imageByUri(e){const t=this.imagesByUriIndex[e];if(!t)throw new RangeError("no such image "+e);return t}get images(){return this._images||this.readImages(),this._images}imagesByDepictsUri(e){var t;return null!==(t=this.imagesByDepictsUriIndex[e])&&void 0!==t?t:[]}get imagesByDepictsUriIndex(){return this._imagesByDepictsUriIndex||this.readImages(),(0,g.requireDefined)(this._imagesByDepictsUriIndex)}imagesByOriginalImageUri(e){var t;return(null!==(t=this.imagesByOriginalImageUriIndex[e])&&void 0!==t?t:[]).filter((t=>t.originalImageUri===e))}get imagesByOriginalImageUriIndex(){return this._imagesByOriginalImageUriIndex||this.readImages(),(0,g.requireDefined)(this._imagesByOriginalImageUriIndex)}get imagesByUriIndex(){return this._imagesByUriIndex||this.readImages(),(0,g.requireDefined)(this._imagesByUriIndex)}institutionByUri(e){const t=this.institutionsByUriIndex[e];if(!t)throw new RangeError("no such institution "+e);return t}get institutions(){return this._institutions||this.readInstitutions(),this._institutions}institutionCollections(e){var t;return null!==(t=this.collectionsByInstitutionUriIndex[e])&&void 0!==t?t:[]}institutionWorks(e){var t;return null!==(t=this.worksByInstitutionUriIndex[e])&&void 0!==t?t:[]}get institutionsByUriIndex(){return this._institutionsByUriIndex||this.readInstitutions(),this._institutionsByUriIndex}licenseByUri(e){const t=this.licensesByUriIndex[e];if(!t)throw new RangeError("no such license "+e);return t}get licenses(){return this._licenses||this.readLicenses(),this._licenses}get licensesByUriIndex(){return this._licensesByUriIndex||this.readLicenses(),this._licensesByUriIndex}logContents(){console.log("Dataset:",this.store.getSubjects(null,null,null).length,"subjects");const e={collections:this.collections,institutions:this.institutions,images:this.images,licenses:this.licenses,namedValues:this.namedValues,organizations:this.organizations,people:this.people,rightsStatements:this.rightsStatements,works:this.works};for(const t of Object.keys(e)){const n=e[t];console.log("  ",n.length,t,":",n.map((e=>e.uri)).sort().join(" "))}}get namedValues(){return this._namedValues||this.readNamedValues(),this._namedValues}namedValuesByPropertyUri(e){var t;return null!==(t=this.namedValuesByPropertyUriIndex[e])&&void 0!==t?t:[]}namedValueByUri(e){const t=this.namedValuesByUriIndex[e];if(!t)throw new RangeError("no such named value "+e);return t}namedValueByUriOptional(e){var t;return null!==(t=this.namedValuesByUriIndex[e])&&void 0!==t?t:null}get namedValuesByPropertyUriIndex(){return this._namedValuesByPropertyUriIndex||this.readNamedValues(),this._namedValuesByPropertyUriIndex}get namedValuesByUriIndex(){return this._namedValuesByUriIndex||this.readNamedValues(),this._namedValuesByUriIndex}organizationByUri(e){const t=this.organizationsByUriIndex[e];if(!t)throw new RangeError("no such organization "+e);return t}organizationByUriOptional(e){var t;return null!==(t=this.organizationsByUriIndex[e])&&void 0!==t?t:null}get organizations(){return this._organizations||this.readOrganizations(),this._organizations}get organizationsByUriIndex(){return this._organizationsByUriIndex||this.readOrganizations(),this._organizationsByUriIndex}static parse(e,t){const n=new l.Parser(t),r=new l.Store;return r.addQuads(n.parse(e)),new b(r)}get people(){return this._people||this.readPeople(),this._people}get peopleByUriIndex(){return this._peopleByUriIndex||this.readPeople(),this._peopleByUriIndex}personByUri(e){const t=this.peopleByUriIndex[e];if(!t)throw new RangeError("no such person "+e);return t}personByUriOptional(e){var t;return null!==(t=this.peopleByUriIndex[e])&&void 0!==t?t:null}readEvent(e){for(const t of this.store.getObjects(e.node,u.RDF.type,e.graphNode)){const n=y[t.value];if(n)return new n(e)}throw new EvalError(e.node.value)}readEvents(){const e=[],t={};this._workEventsByUriIndex={},this.readModels((n=>{const r=this.readEvent(n);if(!(0,v.hasMixin)(r,f.WorkEvent))throw new EvalError;{e.push(r);const n=t[r.workUri];n?n.push(r):t[r.workUri]=[r],this._workEventsByUriIndex[r.uri]=r}}),u.CMS.Event),this._workEvents=e,this._workEventsByWorkUriIndex=t}readCollection(e){return new r.Collection(e)}readCollections(){const e=[];this._collectionsByUriIndex={};const t={};this.readModels((n=>{const r=this.readCollection(n);e.push(r),this._collectionsByUriIndex[r.uri]=r;const i=t[r.institutionUri];i?i.push(r):t[r.institutionUri]=[r]}),u.CMS.Collection),this._collections=e,this._collectionsByInstitutionUriIndex=t}readImage(e){return new i.Image(e)}readImages(){const e=[],t={},n={};this._imagesByUriIndex={},this.readModels((r=>{var i;const s=this.readImage(r);e.push(s);const a=t[s.depictsUri];a?a.push(s):t[s.depictsUri]=[s];const o=null!==(i=s.originalImageUri)&&void 0!==i?i:s.uri,l=n[o];l?l.push(s):n[o]=[s],this._imagesByUriIndex[s.uri]=s}),u.CMS.Image),this._images=e,this._imagesByDepictsUriIndex=t,this._imagesByOriginalImageUriIndex=n}readInstitution(e){return new s.Institution(e)}readInstitutions(){const e=[];this._institutionsByUriIndex={},this.readModels((t=>{const n=this.readInstitution(t);e.push(n),this._institutionsByUriIndex[n.uri]=n}),u.CMS.Institution),this._institutions=e}readLicense(e){return new a.License(e)}readLicenses(){const e=[];this._licensesByUriIndex={},this.readModels((t=>{const n=this.readLicense(t);e.push(n),this._licensesByUriIndex[n.uri]=n}),u.CMS.License),this._licenses=e}readModels(e,t){this.store.forEach((t=>{if("NamedNode"!==t.graph.termType)throw new RangeError(`expected NamedNode graph, actual ${t.graph.termType}`);if("NamedNode"!==t.subject.termType)throw new RangeError(`expected NamedNode subject, actual ${t.subject.termType}`);e({dataset:this,graphNode:t.graph,node:t.subject})}),null,u.RDF.type,t,null)}readNamedValue(e){return new h.NamedValue(e)}readNamedValues(){const e=[],t={};this._namedValuesByUriIndex={},this.readModels((n=>{const r=this.readNamedValue(n);e.push(r);for(const e of r.propertyUris){const n=t[e];n?n.push(r):t[e]=[r]}this._namedValuesByUriIndex[r.uri]=r}),u.CMS.NamedValue),this._namedValues=e,this._namedValuesByPropertyUriIndex=t}readOrganization(e){return new m.Organization(e)}readOrganizations(){const e=[];this._organizationsByUriIndex={},this.readModels((t=>{const n=this.readOrganization(t);e.push(n),this._organizationsByUriIndex[n.uri]=n}),u.CMS.Organization),this._organizations=e}readPeople(){const e=[];this._peopleByUriIndex={},this.readModels((t=>{const n=this.readPerson(t);e.push(n),this._peopleByUriIndex[n.uri]=n}),u.CMS.Person),this._people=e}readPerson(e){return new d.Person(e)}readRightsStatement(e){return new o.RightsStatement(e)}readRightsStatements(){const e=[];this._rightsStatementsByUriIndex={},this.readModels((t=>{const n=this.readRightsStatement(t);e.push(n),this._rightsStatementsByUriIndex[n.uri]=n}),u.CMS.RightsStatement),this._rightsStatements=e}readWork(e){return new c.Work(e)}readWorks(){const e=[],t={},n={},r={};this._worksByUriIndex={},this.readModels((i=>{const s=this.readWork(i);e.push(s);for(const e of s.agentUris){const n=t[e];n?n.push(s):t[e]=[s]}for(const e of s.collectionUris){const t=n[e];t?t.push(s):n[e]=[s]}const a=r[s.institutionUri];a?a.push(s):r[s.institutionUri]=[s],this._worksByUriIndex[s.uri]=s}),u.CMS.Work),this._works=e,this._worksByAgentUriIndex=t,this._worksByCollectionUriIndex=n,this._worksByInstitutionUriIndex=r}get rightsStatements(){return this._rightsStatements||this.readRightsStatements(),this._rightsStatements}rightsStatementByUri(e){const t=this.rightsStatementsByUriIndex[e];if(!t)throw new RangeError("no such rights statement "+e);return t}get rightsStatementsByUriIndex(){return this._rightsStatementsByUriIndex||this.readRightsStatements(),this._rightsStatementsByUriIndex}stringify(e){const t=Object.assign({},e);t.format||(t.format="Turtle"),t.prefixes||(t.prefixes=u.prefixes);const n=new l.Writer(t);let r;return n.addQuads(this.store.getQuads(null,null,null,null)),n.end(((e,t)=>r=t)),r}workByUri(e){const t=this.worksByUriIndex[e];if(!t)throw new RangeError("no such work "+e);return t}get workEvents(){return this._workEvents||this.readEvents(),this._workEvents}workEventsByWork(e){var t;return null!==(t=this.workEventsByWorkUriIndex[e])&&void 0!==t?t:[]}workEventByUri(e){const t=this.workEventsByUriIndex[e];if(!t)throw new RangeError("no such work event "+e);return t}get workEventsByUriIndex(){return this._workEventsByUriIndex||this.readEvents(),(0,g.requireDefined)(this._workEventsByUriIndex)}get workEventsByWorkUriIndex(){return this._workEventsByWorkUriIndex||this.readEvents(),(0,g.requireDefined)(this._workEventsByWorkUriIndex)}get works(){return this._works||this.readWorks(),this._works}get worksByAgentUriIndex(){return this._worksByAgentUriIndex||this.readWorks(),(0,g.requireDefined)(this._worksByAgentUriIndex)}get worksByCollectionUriIndex(){return this._worksByCollectionUriIndex||this.readWorks(),(0,g.requireDefined)(this._worksByCollectionUriIndex)}get worksByInstitutionUriIndex(){return this._worksByInstitutionUriIndex||this.readWorks(),(0,g.requireDefined)(this._worksByInstitutionUriIndex)}get worksByUriIndex(){return this._worksByUriIndex||this.readWorks(),(0,g.requireDefined)(this._worksByUriIndex)}}t.Dataset=b},400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetBuilder=void 0;const r=n(80),i=n(6053),s=n(5836),a=n(4811);class o{addAgent(e){if(e instanceof a.Organization)return this.addOrganization(e);if(e instanceof s.Person)return this.addPerson(e);throw new EvalError}addCollection(e){return this.collectionsByUri=o.addNamedModel(this.collectionsByUri,e),this}addCollections(e){return this.collectionsByUri=o.addNamedModels(this.collectionsByUri,e),this}addEvent(e){return this.eventsByUri=o.addNamedModel(this.eventsByUri,e),this}addInstitution(e){return this.institutionsByUri=o.addNamedModel(this.institutionsByUri,e),this}addInstitutions(e){return this.institutionsByUri=o.addNamedModels(this.institutionsByUri,e),this}addImage(e){return this.imagesByUri=o.addNamedModel(this.imagesByUri,e),this}addImages(e){return this.imagesByUri=o.addNamedModels(this.imagesByUri,e),this}addLicense(e){return this.licensesByUri=o.addNamedModel(this.licensesByUri,e),this}addLicenses(e){return this.licensesByUri=o.addNamedModels(this.licensesByUri,e),this}static addNamedModel(e,t){e||(e={});return e[t.uri]||(e[t.uri]=t),e}static addNamedModels(e,t){e||(e={});for(const n of t){e[n.uri]||(e[n.uri]=n)}return e}addOrganization(e){return this.organizationsByUri=o.addNamedModel(this.organizationsByUri,e),this}addPerson(e){return this.peopleByUri=o.addNamedModel(this.peopleByUri,e),this}addWork(e){return this.worksByUri=o.addNamedModel(this.worksByUri,e),this}addWorks(e){return this.worksByUri=o.addNamedModels(this.worksByUri,e),this}addNamedValue(e){return this.namedValuesByUri=o.addNamedModel(this.namedValuesByUri,e),this}addNamedValues(e){return this.namedValuesByUri=o.addNamedModels(this.namedValuesByUri,e),this}addRightsStatement(e){return this.rightsStatementsByUri=o.addNamedModel(this.rightsStatementsByUri,e),this}addRightsStatements(e){return this.rightsStatementsByUri=o.addNamedModels(this.rightsStatementsByUri,e),this}build(){const e=new i.Store;for(const t of[this.collectionsByUri,this.eventsByUri,this.imagesByUri,this.institutionsByUri,this.licensesByUri,this.namedValuesByUri,this.organizationsByUri,this.peopleByUri,this.worksByUri,this.rightsStatementsByUri])if(t)for(const n of Object.keys(t)){const r=t[n];e.addQuads(r.dataset.store.getQuads(null,null,null,r.graphNode))}return new r.Dataset(e)}}t.DatasetBuilder=o},7145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeDescription=void 0;const r=n(5266),i=n(5411),s=n(8879);class a extends r.Model{get day(){for(const e of this.propertyObjects(i.TIME.day)){if("Literal"!==e.termType)continue;const t=e;if(t.datatype.value===i.XSD.gDay.value){const e=t.value.match(/---(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?/);if(!e)throw new RangeError("expected time:day to match xsd:gDay regex");return parseInt(e[1])}if(t.datatype.value===i.XSD.integer.value)return parseInt(t.value)}return null}get hour(){return this.optionalInt(i.TIME.hour)}get minute(){return this.optionalInt(i.TIME.minute)}get month(){for(const e of this.propertyObjects(i.TIME.month)){if("Literal"!==e.termType)continue;const t=e;if(t.datatype.value===i.XSD.gMonth.value){const e=t.value.match(/--(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?/);if(!e)throw new RangeError("expected time:month to match xsd:gMonth regex");return parseInt(e[1])}if(t.datatype.value===i.XSD.integer.value)return parseInt(t.value)}return null}optionalInt(e){for(const t of this.propertyObjects(e)){if("Literal"!==t.termType)continue;const e=t;if(e.datatype.value===i.XSD.integer.value)return parseInt(e.value)}return null}get second(){for(const e of this.propertyObjects(i.TIME.second)){if("Literal"!==e.termType)continue;const t=e;if(t.datatype.value===i.XSD.decimal.value)return parseFloat(t.value);if(t.datatype.value===i.XSD.integer.value)return parseInt(t.value)}return null}toString(){const e=this.year;if(null===e)return"(unknown)";let t=s(),n="";const r=this.month;if(null!==r){n+="MMM",t=t.month(r-1);const e=this.day;null!==e&&(n+=" D",t=t.date(e))}n+=" YYYY",t=t.year(e);let i="";const a=this.hour;if(null!==a){t=t.hour(a),i+="h";const e=this.minute;if(null!==e){t=t.minute(e),i+=":m";const n=this.second;null!==n&&(t=t.second(n),i+=":s"),i+=" A"}}return t.format(i.length>0?i+" "+n:n)}get year(){for(const e of this.propertyObjects(i.TIME.year)){if("Literal"!==e.termType)continue;const t=e;if(t.datatype.value===i.XSD.gYear.value){const e=t.value.match(/-?([1-9][0-9]{3,}|0[0-9]{3})(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?/);if(!e)throw new RangeError("expected time:year to match xsd:gYear regex");return parseInt(e[1])}if(t.datatype.value===i.XSD.integer.value)return parseInt(t.value)}return null}}t.DateTimeDescription=a},5738:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;const i=n(7375),s=n(7145),a=n(5411),o=n(3285),l=n(7678),u=n(6252),c=n(2851);class d extends((0,u.Mixin)(i.NamedModel,l.HasAbstract)){get displayDate(){const e=this.date;if(null!==e)return e.toString();const t=this.earliestDate,n=this.latestDate;if(null===t&&null===n)return null;const r=[];return null!==t&&r.push(t.toString()+" (earliest)"),null!==n&&r.push(n.toString()+" (latest)"),r.join(" - ")}compareByDate(e){const t=this.sortDate,n=e.sortDate;if(null===t)return null===n?this.uri.localeCompare(e.uri):-1;if(null==n)return 1;const r=t.year-n.year;if(0!==r)return r;const i=(null!==t.month?t.month:1)-(null!==n.month?n.month:1);return 0!==i?i:(null!==t.day?t.day:1)-(null!==n.day?n.day:1)}get date(){return this.datePropertyValue(a.DCTERMS.date)}datePropertyValue(e){for(const t of this.propertyObjects(e))switch(t.termType){case"BlankNode":return new s.DateTimeDescription({dataset:this.dataset,graphNode:this.graphNode,node:t});case"Literal":return t.datatype.value===a.XSD.integer.value?parseInt(t.value):t.value}return null}get earliestDate(){return this.datePropertyValue(a.VRA.earliestDate)}get latestDate(){return this.datePropertyValue(a.VRA.latestDate)}get location(){for(const e of this.propertyObjects(a.DCTERMS.spatial))switch(e.termType){case"BlankNode":return new o.Location({dataset:this.dataset,graphNode:this.graphNode,node:e});case"Literal":return e.value}return null}get sortDate(){for(const e of[this.date,this.earliestDate,this.latestDate])if(e instanceof s.DateTimeDescription)return null===e.year?null:{day:e.day,month:e.month,year:e.year};return null}get title(){var e,t;return null!==(t=null===(e=this.propertyObjects(a.DCTERMS.title).find((e=>"Literal"===e.termType)))||void 0===e?void 0:e.value)&&void 0!==t?t:null}}r([(0,c.Memoize)()],d.prototype,"displayDate",null),r([(0,c.Memoize)()],d.prototype,"date",null),r([(0,c.Memoize)()],d.prototype,"earliestDate",null),r([(0,c.Memoize)()],d.prototype,"latestDate",null),r([(0,c.Memoize)()],d.prototype,"location",null),r([(0,c.Memoize)()],d.prototype,"sortDate",null),t.Event=d},379:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;const i=n(7375),s=n(5411),a=n(140),o=n(2851),l=n(7259),u=n(6252),c=n(7678);class d extends((0,u.Mixin)(i.NamedModel,c.HasRights)){get depictsUri(){return(0,l.requireDefined)(this.propertyObjects(s.FOAF.depicts).find((e=>"NamedNode"===e.termType))).value}get derivedImages(){return null!==this.originalImageUri?[]:this.dataset.imagesByOriginalImageUri(this.uri)}get exactDimensions(){return this.imageDimensions(s.EXIF.height,s.EXIF.width)}imageDimensions(e,t){const n=this.propertyObjects(e).find((e=>"Literal"===e.termType&&e.datatype.value===s.XSD.integer.value)),r=this.propertyObjects(t).find((e=>"Literal"===e.termType&&e.datatype.value===s.XSD.integer.value));if(n&&r)return{height:parseInt(n.value),width:parseInt(r.value)};if(n||r)throw new RangeError("must specify both width and height if either is specified");return null}get isOriginal(){return null===this.originalImageUri}get maxDimensions(){return this.imageDimensions(s.CMS.imageMaxHeight,s.CMS.imageMaxWidth)}get originalImageUri(){const e=this.store.getSubjects(s.FOAF.thumbnail,this.node,null);return e.length>0?e[0].value:null}get originalImage(){const e=this.originalImageUri;return e?this.dataset.imageByUri(e):this}static placeholderSrc(e){return`https://place-hold.it/${e.width}x${e.height}?text=${encodeURIComponent("Missing image")}`}get src(){const e=this.propertyObjects(s.CMS.imageSrc).find((e=>"Literal"===e.termType));return e?e.value:this.uri.startsWith("http://")||this.uri.startsWith("https://")?this.uri:null}thumbnail(e){const t=this.originalImage;return(0,a.selectThumbnail)([t].concat(t.derivedImages),e)}get title(){var e,t;return null!==(t=null===(e=this.propertyObjects(s.DCTERMS.title).find((e=>"Literal"===e.termType)))||void 0===e?void 0:e.value)&&void 0!==t?t:null}}r([(0,o.Memoize)()],d.prototype,"exactDimensions",null),r([(0,o.Memoize)()],d.prototype,"maxDimensions",null),t.Image=d},4138:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Institution=void 0;const r=n(7375),i=n(140),s=n(4767),a=n(6252),o=n(7001),l=n(7678);class u extends((0,a.Mixin)(r.NamedModel,s.HasImages,o.HasName,l.HasRights)){get collections(){return this.dataset.institutionCollections(this.uri)}thumbnail(e){const t=this.dataset.imagesByDepictsUri(this.uri);if(t.length>0){const n=(0,i.selectThumbnail)(t,e);if(n)return n}for(const n of this.collections){const t=n.thumbnail(e);if(t)return t}return null}}t.Institution=u},4039:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.License=void 0;const r=n(7375),i=n(5411),s=n(7259);class a extends r.NamedModel{get identifier(){return(0,s.requireDefined)(this.propertyObjects(i.DC.identifier).find((e=>"Literal"===e.termType))).value}get title(){return(0,s.requireDefined)(this.propertyObjects(i.DC.title).find((e=>"Literal"===e.termType))).value}toString(){return this.title}}t.License=a},3285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Location=void 0;const r=n(5266),i=n(3872),s=n(7259);class a extends r.Model{get lat(){return parseFloat((0,s.requireDefined)(this.propertyObjects(i.WGS.lat).find((e=>e.termType))).value)}get long(){return parseFloat((0,s.requireDefined)(this.propertyObjects(i.WGS.long).find((e=>e.termType))).value)}}t.Location=a},5266:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;t.Model=class{constructor(e){this.dataset=e.dataset,this.graphNode=e.graphNode,this._node=e.node}get node(){return this._node}propertyObjects(e){return this.store.getObjects(this.node,e,this.graphNode)}get store(){return this.dataset.store}}},8941:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedModel=void 0;const r=n(5266);class i extends r.Model{get node(){return this._node}get uri(){return this.node.value}}t.NamedModel=i},8188:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.NamedValue=void 0;const i=n(7375),s=n(5411),a=n(2851),o=n(7259),l=n(7678),u=n(6252);class c extends((0,u.Mixin)(i.NamedModel,l.HasImages)){get propertyUris(){const e=this.propertyObjects(s.RDF.predicate).filter((e=>"NamedNode"===e.termType)).map((e=>e.value));if(0===e.length)throw new RangeError("property value definition must link to one or more property definitions");return e}get title(){var e,t;return null!==(t=null===(e=this.propertyObjects(s.DCTERMS.title).find((e=>"Literal"===e.termType)))||void 0===e?void 0:e.value)&&void 0!==t?t:null}get value(){return(0,o.requireDefined)(this.propertyObjects(s.RDF.value).find((e=>"Literal"===e.termType)))}}r([(0,a.Memoize)()],c.prototype,"title",null),t.NamedValue=c},2641:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6053).DataFactory.namedNode;t.default=function(e){return function(t){return r(e+(t||""))}}},4811:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Organization=void 0;const r=n(998);class i extends r.Agent{}t.Organization=i},5836:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Person=void 0;const r=n(5411),i=n(998);class s extends i.Agent{get familyName(){var e,t;return null!==(t=null===(e=this.propertyObjects(r.FOAF.familyName).find((e=>"Literal"===e.termType)))||void 0===e?void 0:e.value)&&void 0!==t?t:null}get givenName(){var e,t;return null!==(t=null===(e=this.propertyObjects(r.FOAF.givenName).find((e=>"Literal"===e.termType)))||void 0===e?void 0:e.value)&&void 0!==t?t:null}get sortName(){var e,t;return null!==(t=null===(e=this.propertyObjects(r.CONTACT.sortName).find((e=>"Literal"===e.termType)))||void 0===e?void 0:e.value)&&void 0!==t?t:null}}t.Person=s},1891:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyValue=void 0;const r=n(7655),i=n(5411);class s{static fromAgent(e){return new a(e)}static fromLiteral(e){return new o(e)}static fromNamedValue(e){return new l(e)}static fromQuad(e,t){switch(t.object.termType){case"BlankNode":return 0===e.store.getQuads(t.object,i.RDF.type,i.CMS.Text,t.graph).length?null:s.fromText(new r.Text({dataset:e,graphNode:t.graph,node:t.object}));case"NamedNode":{const n=e.namedValueByUriOptional(t.object.value);if(n)return s.fromNamedValue(n)}{const n=e.organizationByUriOptional(t.object.value);if(n)return s.fromAgent(n)}{const n=e.personByUriOptional(t.object.value);if(n)return s.fromAgent(n)}return null;case"Literal":return s.fromLiteral(t.object);default:return null}}static fromQuads(e,t){const n=[];for(const r of t){const t=s.fromQuad(e,r);t&&n.push(t)}return n}static fromText(e){return new u(e)}thumbnail(e){return null}toString(){throw new EvalError("use .value, not .toString()")}}t.PropertyValue=s;class a extends s{constructor(e){super(),this.agent=e}get label(){return this.agent.name}get value(){return this.agent.uri}}class o extends s{constructor(e){super(),this.literal=e}get label(){return this.literal.value}get value(){return this.literal.value}}class l extends s{constructor(e){super(),this.namedValue=e}get label(){var e;return null!==(e=this.namedValue.title)&&void 0!==e?e:this.value}thumbnail(e){return this.namedValue.thumbnail(e)}get value(){return this.namedValue.value.value}}class u extends s{constructor(e){super(),this.text=e}get label(){return this.value}get value(){return this.text.value}}},9809:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Rights=void 0;const i=n(5266),s=n(5411),a=n(2851),o=n(6252),l=n(3790);class u extends((0,o.Mixin)(i.Model,l.HasCreators)){agentsOrStrings(e){return this.propertyObjects(s.DCTERMS.creator).flatMap((e=>{switch(e.termType){case"Literal":return e.value;case"NamedNode":return this.dataset.agentByUri(e.value);default:return[]}}))}get agentUris(){return this.creatorAgentUris.concat(this.holderAgentUris)}get holderAgents(){return this.holderAgentUris.map((e=>this.dataset.agentByUri(e)))}get holderAgentUris(){return this.propertyObjects(s.DCTERMS.rightsHolder).filter((e=>"NamedNode"===e.termType)).map((e=>e.value))}get holders(){return this.agentsOrStrings(s.DCTERMS.rightsHolder)}get license(){const e=this.propertyObjects(s.DCTERMS.license).find((e=>"Literal"===e.termType||"NamedNode"===e.termType));if(!e)return null;switch(e.termType){case"Literal":return e.value;case"NamedNode":return this.dataset.licenseByUri(e.value);default:throw new EvalError}}get statement(){const e=this.propertyObjects(s.DCTERMS.rights).find((e=>"Literal"===e.termType||"NamedNode"===e.termType));if(!e)return null;switch(e.termType){case"Literal":return e.value;case"NamedNode":return this.dataset.rightsStatementByUri(e.value);default:throw new EvalError}}}r([(0,a.Memoize)()],u.prototype,"holderAgentUris",null),r([(0,a.Memoize)()],u.prototype,"holders",null),r([(0,a.Memoize)()],u.prototype,"license",null),r([(0,a.Memoize)()],u.prototype,"statement",null),t.Rights=u},5493:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RightsStatement=void 0;const r=n(7375),i=n(5411),s=n(7259);class a extends r.NamedModel{get definition(){var e,t;return null!==(t=null===(e=this.propertyObjects(i.SKOS.definition).find((e=>"Literal"===e.termType)))||void 0===e?void 0:e.value)&&void 0!==t?t:null}get description(){var e,t;return null!==(t=null===(e=this.propertyObjects(i.DCTERMS.description).find((e=>"Literal"===e.termType)))||void 0===e?void 0:e.value)&&void 0!==t?t:null}get identifier(){return(0,s.requireDefined)(this.propertyObjects(i.DCTERMS.identifier).find((e=>"Literal"===e.termType))).value}get prefLabel(){return(0,s.requireDefined)(this.propertyObjects(i.SKOS.prefLabel).find((e=>"Literal"===e.termType))).value}toString(){return this.prefLabel}}t.RightsStatement=a},7655:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;const r=n(5266),i=n(5411),s=n(7259),a=n(6252),o=n(3511);class l extends((0,a.Mixin)(r.Model,o.HasRights)){toString(){return this.value}get value(){return(0,s.requireDefined)(this.propertyObjects(i.RDF.value).find((e=>"Literal"===e.termType))).value}}t.Text=l},8714:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3345:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Work=void 0;const i=n(7375),s=n(5411),a=n(7655),o=n(2851),l=n(1891),u=n(8188),c=n(6053),d=n(6252),h=n(7678),m=n(8930),g=n(3285),f=(e,t)=>{const n=[];if(!e)return n;for(const r of e.creatorAgents)n.push({agent:r,role:t+" creator"});for(const r of e.holderAgents)n.push({agent:r,role:t+" holder"});return n};class p extends((0,d.Mixin)(i.NamedModel,h.HasAbstract,h.HasImages,h.HasInstitution,h.HasPage,h.HasTitle,h.HasRelations,h.HasRights)){get agents(){var e,t;const n=[];n.push(...f(null!==(t=null!==(e=this.rights)&&void 0!==e?e:this.institution.rights)&&void 0!==t?t:null,"Work")),this.abstract&&this.abstract instanceof a.Text&&n.push(...f(this.abstract.rights,"Text"));for(const r of this.originalImages)n.push(...f(r.rights,"Image"));return n}get agentUris(){const e=[];this.rights?e.push(...this.rights.agentUris):this.institution.rights&&e.push(...this.institution.rights.agentUris),this.abstract&&this.abstract instanceof a.Text&&this.abstract.rights&&e.push(...this.abstract.rights.agentUris);for(const t of this.originalImages)t.rights&&e.push(...t.rights.agentUris);return e}get collections(){return this.collectionUris.map((e=>this.dataset.collectionByUri(e)))}get collectionUris(){return this.propertyObjects(s.CMS.collection).filter((e=>"NamedNode"===e.termType)).map((e=>e.value))}get description(){for(const e of this.propertyObjects(s.DCTERMS.abstract))switch(e.termType){case"BlankNode":return new a.Text({dataset:this.dataset,graphNode:this.graphNode,node:e});case"Literal":return e.value}return null}get events(){return this.dataset.workEventsByWork(this.uri)}get locations(){const e=[];for(const t of this.events)(0,m.visitWorkEvent)(t,{visitWorkCreation(t){t.location instanceof g.Location&&e.push({location:t.location,role:"Creation",title:t.title?t.displayDate?`${t.displayDate}: ${t.title}`:t.title:null})}});return e}propertyNamedValues(e){const t=[];return this.store.forEach((e=>{if("NamedNode"!==e.object.termType)return;const n=this.store.getQuads(e.object,s.RDF.type,s.CMS.NamedValue,null);0!=n.length&&t.push(new u.NamedValue({dataset:this.dataset,graphNode:n[0].graph,node:e.object}))}),this.node,new c.NamedNode(e),null,this.graphNode),t}propertyValues(e){return l.PropertyValue.fromQuads(this.dataset,this.store.getQuads(this.node,new c.NamedNode(e),null,this.graphNode))}}r([(0,o.Memoize)()],p.prototype,"agents",null),r([(0,o.Memoize)()],p.prototype,"agentUris",null),r([(0,o.Memoize)()],p.prototype,"collectionUris",null),r([(0,o.Memoize)()],p.prototype,"description",null),r([(0,o.Memoize)()],p.prototype,"locations",null),r([(0,o.Memoize)()],p.prototype,"propertyNamedValues",null),r([(0,o.Memoize)()],p.prototype,"propertyValues",null),t.Work=p},3540:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8924:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkCreation=void 0;const r=n(4807),i=n(6252),s=n(3790);class a extends((0,i.Mixin)(r.WorkEvent,s.HasCreators)){}t.WorkCreation=a},4807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkEvent=void 0;const r=n(5738),i=n(7259),s=n(5411);class a extends r.Event{get work(){return this.dataset.workByUri(this.workUri)}get workUri(){return(0,i.requireDefined)(this.propertyObjects(s.CMS.work).find((e=>"NamedNode"===e.termType))).value}}t.WorkEvent=a},3366:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visitWorkEvent=void 0;const r=n(8924);t.visitWorkEvent=(e,t)=>{if(e instanceof r.WorkCreation)return t.visitWorkCreation(e);throw new EvalError}},5780:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2870:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3476:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5578:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(998),t),i(n(7566),t),i(n(3489),t),i(n(8685),t),i(n(80),t),i(n(400),t),i(n(5055),t),i(n(5738),t),i(n(379),t),i(n(4138),t),i(n(3679),t),i(n(4039),t),i(n(3262),t),i(n(3285),t),i(n(5266),t),i(n(8941),t),i(n(7375),t),i(n(2641),t),i(n(4811),t),i(n(9809),t),i(n(5493),t),i(n(8714),t),i(n(7655),t),i(n(5411),t),i(n(3345),t),i(n(3540),t),i(n(8924),t),i(n(4807),t),i(n(3366),t),i(n(8930),t),i(n(5780),t),i(n(2870),t),i(n(3476),t)},1265:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.HasAbstract=void 0;const i=n(2851),s=n(7655),a=n(5411),o=n(688);class l extends o.ModelMixin{get abstract(){for(const e of this.propertyObjects(a.DCTERMS.abstract))switch(e.termType){case"BlankNode":return new s.Text({dataset:this.dataset,graphNode:this.graphNode,node:e});case"Literal":return e.value}return null}}r([(0,i.Memoize)()],l.prototype,"abstract",null),t.HasAbstract=l},3790:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.HasCreators=void 0;const i=n(2851),s=n(5411),a=n(688);class o extends a.ModelMixin{get creators(){return this.propertyObjects(s.DCTERMS.creator).flatMap((e=>{switch(e.termType){case"Literal":return e.value;case"NamedNode":return this.dataset.agentByUri(e.value);default:return[]}}))}get creatorAgents(){return this.creatorAgentUris.map((e=>this.dataset.agentByUri(e)))}get creatorAgentUris(){return this.propertyObjects(s.DCTERMS.creator).filter((e=>"NamedNode"===e.termType)).map((e=>e.value))}}r([(0,i.Memoize)()],o.prototype,"creators",null),r([(0,i.Memoize)()],o.prototype,"creatorAgentUris",null),t.HasCreators=o},4767:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HasImages=void 0;const r=n(140),i=n(2637);class s extends i.NamedModelMixin{get images(){return this.dataset.imagesByDepictsUri(this.uri)}get originalImages(){return this.images.filter((e=>e.isOriginal))}thumbnail(e){return(0,r.selectThumbnail)(this.images,e)}}t.HasImages=s},2190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HasInstitution=void 0;const r=n(7259),i=n(5411),s=n(688);class a extends s.ModelMixin{get institution(){return this.dataset.institutionByUri(this.institutionUri)}get institutionUri(){return(0,r.requireDefined)(this.propertyObjects(i.CMS.institution).find((e=>"NamedNode"===e.termType))).value}}t.HasInstitution=a},7001:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HasName=void 0;const r=n(7259),i=n(5411),s=n(688);class a extends s.ModelMixin{get name(){return(0,r.requireDefined)(this.propertyObjects(i.FOAF.name_).find((e=>"Literal"===e.termType))).value}}t.HasName=a},4700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HasPage=void 0;const r=n(5411),i=n(688);class s extends i.ModelMixin{get page(){var e,t;return null!==(t=null===(e=this.propertyObjects(r.FOAF.page).find((e=>{switch(e.termType){case"Literal":case"NamedNode":return!0;default:return!1}})))||void 0===e?void 0:e.value)&&void 0!==t?t:null}}t.HasPage=s},5451:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HasRelations=void 0;const r=n(688),i=n(5411);class s extends r.ModelMixin{get wikipediaUrl(){var e,t;return null!==(t=null===(e=this.propertyObjects(i.DCTERMS.relation).find((e=>"NamedNode"===e.termType&&e.value.match(/^https?:\/\/([a-z]+)\.wikipedia\.org\/wiki\//))))||void 0===e?void 0:e.value)&&void 0!==t?t:null}get wikidataConceptUri(){var e,t;return null!==(t=null===(e=this.propertyObjects(i.DCTERMS.relation).find((e=>"NamedNode"===e.termType&&e.value.match(/^https?:\/\/www\.wikidata\.org\/entity\//))))||void 0===e?void 0:e.value)&&void 0!==t?t:null}}t.HasRelations=s},3511:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.HasRights=void 0;const i=n(688),s=n(2851),a=n(9809),o=n(5411);class l extends i.ModelMixin{get rights(){return this.propertyObjects(o.DCTERMS.creator).length>0||this.propertyObjects(o.DCTERMS.license).length>0||this.propertyObjects(o.DCTERMS.rights).length>0||this.propertyObjects(o.DCTERMS.rightsHolder).length>0?new a.Rights({dataset:this.dataset,graphNode:this.graphNode,node:this._node}):null}}r([(0,s.Memoize)()],l.prototype,"rights",null),t.HasRights=l},6124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HasTitle=void 0;const r=n(7259),i=n(5411);t.HasTitle=class{get title(){return(0,r.requireDefined)(this.propertyObjects(i.DCTERMS.title).find((e=>"Literal"===e.termType))).value}}},688:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelMixin=void 0;t.ModelMixin=class{}},2637:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedModelMixin=void 0;const r=n(688);class i extends r.ModelMixin{}t.NamedModelMixin=i},7678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HasTitle=t.HasRights=t.HasRelations=t.HasPage=t.HasName=t.HasInstitution=t.HasImages=t.HasCreators=t.HasAbstract=void 0;var r=n(1265);Object.defineProperty(t,"HasAbstract",{enumerable:!0,get:function(){return r.HasAbstract}});var i=n(3790);Object.defineProperty(t,"HasCreators",{enumerable:!0,get:function(){return i.HasCreators}});var s=n(4767);Object.defineProperty(t,"HasImages",{enumerable:!0,get:function(){return s.HasImages}});var a=n(2190);Object.defineProperty(t,"HasInstitution",{enumerable:!0,get:function(){return a.HasInstitution}});var o=n(7001);Object.defineProperty(t,"HasName",{enumerable:!0,get:function(){return o.HasName}});var l=n(4700);Object.defineProperty(t,"HasPage",{enumerable:!0,get:function(){return l.HasPage}});var u=n(5451);Object.defineProperty(t,"HasRelations",{enumerable:!0,get:function(){return u.HasRelations}});var c=n(3511);Object.defineProperty(t,"HasRights",{enumerable:!0,get:function(){return c.HasRights}});var d=n(6124);Object.defineProperty(t,"HasTitle",{enumerable:!0,get:function(){return d.HasTitle}})},7259:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requireDefined=void 0;t.requireDefined=e=>{if("undefined"===typeof e)throw new EvalError("expected value to be defined");return e}},140:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectThumbnail=void 0;t.selectThumbnail=(e,t)=>{var n;const{minDimensions:r,maxDimensions:i,targetDimensions:s}=t,a={};for(const o of e){const e=null!==(n=o.originalImageUri)&&void 0!==n?n:o.uri;(a[e]||(a[e]=[])).push(o)}for(const o of Object.keys(a)){const e=[];for(const n of a[o]){let t;if(n.exactDimensions)t=n.exactDimensions;else{if(!n.maxDimensions)continue;t=n.maxDimensions}if(i){if(t.height>i.height)continue;if(t.width>i.width)continue}if(r){if(t.height<r.height)continue;if(t.width<r.width)continue}e.push({image:n,imageDimensions:t})}if(0===e.length)continue;if(1===e.length)return e[0].image;const t=(e,t)=>e.width>=t.width&&e.height>=t.height;e.sort(((e,n)=>t(e.imageDimensions,n.imageDimensions)?1:t(n.imageDimensions,e.imageDimensions)?-1:0));for(const n of e)if(t(n.imageDimensions,s))return n.image;return e[e.length-1].image}return null}},1772:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CMS=void 0;const r=n(2641);class i{}t.CMS=i,i.NS=(0,r.default)("http://www.paradicms.org/ns#"),i.collection=i.NS("collection"),i.configuration=i.NS("configuration"),i.institution=i.NS("institution"),i.imageMaxHeight=i.NS("imageMaxHeight"),i.imageMaxWidth=i.NS("imageMaxWidth"),i.imageSrc=i.NS("imageSrc"),i.work=i.NS("work"),i.Collection=i.NS("Collection"),i.DateTimeDescription=i.NS("DateTimeDescription"),i.Event=i.NS("Event"),i.Image=i.NS("Image"),i.Institution=i.NS("Institution"),i.License=i.NS("License"),i.NamedValue=i.NS("NamedValue"),i.Organization=i.NS("Organization"),i.Person=i.NS("Person"),i.RightsStatement=i.NS("RightsStatement"),i.Text=i.NS("Text"),i.Work=i.NS("Work"),i.WorkCreation=i.NS("WorkCreation"),i.WorkEvent=i.NS("WorkEvent")},4650:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTACT=void 0;const r=n(2641);class i{}t.CONTACT=i,i.NS=(0,r.default)("http://www.w3.org/2000/10/swap/pim/contact#"),i.sortName=i.NS("sortName")},2079:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DC=void 0;const r=n(2641);class i{}t.DC=i,i.NS=(0,r.default)("http://purl.org/dc/elements/1.1/"),i.identifier=i.NS("identifier"),i.title=i.NS("title")},3760:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DCTERMS=void 0;const r=n(2641);class i{}t.DCTERMS=i,i.NS=(0,r.default)("http://purl.org/dc/terms/"),i.abstract=i.NS("abstract"),i.date=i.NS("date"),i.created=i.NS("creator"),i.creator=i.NS("creator"),i.description=i.NS("description"),i.identifier=i.NS("identifier"),i.license=i.NS("license"),i.relation=i.NS("relation"),i.rights=i.NS("rights"),i.rightsHolder=i.NS("rightsHolder"),i.spatial=i.NS("spatial"),i.subject=i.NS("subject"),i.title=i.NS("title")},8361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXIF=void 0;const r=n(2641);class i{}t.EXIF=i,i.NS=(0,r.default)("http://www.w3.org/2003/12/exif/ns#"),i.height=i.NS("height"),i.width=i.NS("width")},6521:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FOAF=void 0;const r=n(2641);class i{}t.FOAF=i,i.NS=(0,r.default)("http://xmlns.com/foaf/0.1/"),i.depicts=i.NS("depicts"),i.familyName=i.NS("familyName"),i.givenName=i.NS("givenName"),i.name_=i.NS("name"),i.page=i.NS("page"),i.thumbnail=i.NS("thumbnail")},9781:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RDF=void 0;const r=n(2641);class i{}t.RDF=i,i.NS=(0,r.default)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),i.predicate=i.NS("predicate"),i.type=i.NS("type"),i.value=i.NS("value")},4254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SKOS=void 0;const r=n(2641);class i{}t.SKOS=i,i.NS=(0,r.default)("http://www.w3.org/2004/02/skos/core#"),i.definition=i.NS("definition"),i.prefLabel=i.NS("prefLabel")},8146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TIME=void 0;const r=n(2641);class i{}t.TIME=i,i.NS=(0,r.default)("http://www.w3.org/2006/time#"),i.day=i.NS("day"),i.hour=i.NS("minute"),i.minute=i.NS("minute"),i.month=i.NS("month"),i.second=i.NS("second"),i.year=i.NS("year"),i.DateTimeDescription=i.NS("DateTimeDescription")},3834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VRA=void 0;const r=n(2641);class i{}t.VRA=i,i.NS=(0,r.default)("http://purl.org/vra/"),i.earliestDate=i.NS("earliestDate"),i.latestDate=i.NS("latestDate")},3872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WGS=void 0;const r=n(2641);class i{}t.WGS=i,i.NS=(0,r.default)("http://www.w3.org/2003/01/geo/wgs84_pos#"),i.lat=i.NS("lat"),i.long=i.NS("long")},8470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XSD=void 0;const r=n(2641);class i{}t.XSD=i,i.NS=(0,r.default)("http://www.w3.org/2001/XMLSchema#"),i.boolean_=i.NS("boolean"),i.decimal=i.NS("decimal"),i.gDay=i.NS("gDay"),i.gMonth=i.NS("gMonth"),i.gYear=i.NS("gYear"),i.integer=i.NS("integer"),i.string_=i.NS("string")},5411:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4650),t),i(n(2079),t),i(n(3760),t),i(n(1772),t),i(n(8361),t),i(n(6521),t),i(n(4427),t),i(n(9781),t),i(n(4254),t),i(n(8146),t),i(n(3834),t),i(n(8470),t)},4427:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prefixes=void 0;const r=n(6521),i=n(9781),s=n(2079),a=n(3760),o=n(8361),l=n(8470),u=n(3834),c=n(4254),d=n(8146),h=n(3872),m=n(1772);t.prefixes={cms:m.CMS.NS(""),dc:s.DC.NS(""),dcterms:a.DCTERMS.NS(""),exif:o.EXIF.NS(""),foaf:r.FOAF.NS(""),rdf:i.RDF.NS(""),skos:c.SKOS.NS(""),time:d.TIME.NS(""),vra:u.VRA.NS(""),xsd:l.XSD.NS(""),wgs:h.WGS.NS("")}},5252:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryParamProvider=t.QueryParamProviderComponent=void 0;const o=s(n(2784)),l=n(5632),u=n(5610);t.QueryParamProviderComponent=e=>{const{children:t}=e,n=a(e,["children"]),r=(0,l.useRouter)(),i=r.asPath.match(/[^?]+/),s=i?i[0]:r.asPath,c=(0,o.useMemo)((()=>window.location),[r.asPath]),d=(0,o.useMemo)((()=>({push:({search:e})=>r.push({pathname:r.pathname,query:r.query},{search:e,pathname:s},{shallow:!0}),replace:({search:e})=>r.replace({pathname:r.pathname,query:r.query},{search:e,pathname:s},{shallow:!0})})),[s,r]);return o.default.createElement(u.QueryParamProvider,Object.assign({},n,{history:d,location:c}),t)},t.QueryParamProvider=(0,o.memo)(t.QueryParamProviderComponent)},9134:function(e,t,n){"use strict";var r=n(8834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encodeFileName=t.decodeFileName=void 0;const i=n(8166)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");t.decodeFileName=e=>i.decode(e).toString("utf-8");t.encodeFileName=e=>i.encode(r.from(e,"utf-8"))},9056:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9134),t),i(n(5252),t),i(n(8545),t),i(n(3548),t)},8545:function(e,t,n){"use strict";var r=n(4406);Object.defineProperty(t,"__esModule",{value:!0}),t.readAppConfigurationFile=void 0;const i=n(5523);let s;t.readAppConfigurationFile=e=>{if(!s){const t=r.env.CONFIGURATION_FILE_PATH;s=t?JSON.parse(e(t).toString()):i.defaultAppConfiguration}return s=(0,i.imputeAppConfiguration)(s),s}},3548:function(e,t,n){"use strict";var r=n(4406);Object.defineProperty(t,"__esModule",{value:!0}),t.readDatasetFile=void 0;const i=n(5578);let s;t.readDatasetFile=e=>{if(!s){const t=r.env.DATA_FILE_PATH;if(!t)throw new EvalError("must specify a data file path");const n=t.toLowerCase(),a={};if(n.endsWith(".nq"))a.format="N-Quads";else{if(!n.endsWith(".trig"))throw new EvalError("data file has unexpected extension: "+t);a.format="TriG"}s=i.Dataset.parse(e(t).toString(),a)}return s}},8698:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visitFilter=void 0;t.visitFilter=(e,t,n)=>{switch(e.type){case"CollectionValue":{const r=e,i=null===n||void 0===n?void 0:n.find((e=>"CollectionValue"===e.type));return!i&&n&&console.warn("no matching facet for filter on collections"),t.visitCollectionValueFilter(r,i)}case"InstitutionValue":{const r=e,i=null===n||void 0===n?void 0:n.find((e=>"InstitutionValue"===e.type));return!i&&n&&console.warn("no matching facet for filter on institutions"),t.visitInstitutionValueFilter(r,i)}case"StringPropertyValue":{const r=e,i=null===n||void 0===n?void 0:n.find((e=>"StringPropertyValue"===e.type&&e.propertyUri===r.propertyUri));return!i&&n&&console.warn("no matching facet for filter on property",r.propertyUri),t.visitStringPropertyValueFilter(r,i)}default:throw new EvalError("unsupported filter type: "+e.type)}}},1484:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ValueFilterTable=void 0;const o=s(n(2784)),l=n(2784),u=a(n(704)),c=n(3809);t.ValueFilterTable=e=>{const{facet:t,filter:n,onChange:r}=e,i=(0,l.useMemo)((()=>new c.ValueFilterState({filter:n,valueUniverse:t.values.map((e=>e.value))})),[t,n]),s=(0,l.useMemo)((()=>[{name:"Label",selector:e=>e.label,sortable:!0},{name:"Count",selector:e=>e.count,sortable:!0}]),[]),a=(0,l.useMemo)((()=>{var e;const n=[];n.push({count:t.unknownCount,id:"unknown",label:"Unknown",selected:i.includeUnknown});for(const r of t.values)n.push({count:r.count,id:r.value.toString(),label:null!==(e=r.label)&&void 0!==e?e:r.value.toString(),selected:i.includesValue(r.value),value:r.value});return n}),[t,i]),d=(0,l.useCallback)((e=>{const{allSelected:t,selectedRows:n}=e;if(t)i.includeAll();else{i.excludeAll();for(const e of n)"undefined"!==typeof e.value?i.includeValue(e.value):i.includeUnknown=!0}r(i.snapshot)}),[i]);return o.createElement(u.default,{columns:s,data:a,noContextMenu:!0,noHeader:!0,selectableRows:!0,onSelectedRowsChange:d,selectableRowSelected:e=>e.selected,striped:!0})}},4660:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePageMax=void 0;t.calculatePageMax=e=>Math.ceil(e.totalObjects/e.objectsPerPage)-1},7705:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFilterControl=void 0;const r=n(8698);t.createFilterControl=e=>{const{facets:t,factory:n,filter:i}=e;return(0,r.visitFilter)(i,{visitCollectionValueFilter:(e,t)=>t?t.values.length+(t.unknownCount?1:0)<=1?null:n.createCollectionValueFilterControl(t,e):null,visitInstitutionValueFilter:(e,t)=>t?t.values.length+(t.unknownCount?1:0)<=1?null:n.createInstitutionValueFilterControl(t,e):null,visitStringPropertyValueFilter:(e,t)=>t?t.values.length+(t.unknownCount?1:0)<=1?null:n.createStringPropertyValueFilterControl(t,e):null},t)}},4671:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4660),t),i(n(7705),t),i(n(8698),t),i(n(7894),t),i(n(2176),t),i(n(7058),t),i(n(1484),t),i(n(8163),t)},7894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePageQueryParam=void 0;const r=n(5610);t.usePageQueryParam=e=>{const[t,n]=(0,r.useQueryParam)(e,r.NumberParam);return[null!==t&&void 0!==t?t:0,n]}},2176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWorkQueryParam=void 0;const r=n(5610),i=n(6169);t.useWorkQueryParam=(e,t)=>{const[n,s]=(0,r.useQueryParam)(t,new i.JsonQueryParamConfig);return[null!==n&&void 0!==n?n:e,s]}},7058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWorkSearchQueryParams=void 0;const r=n(2176),i=n(7894);t.useWorkSearchQueryParams=e=>{var t,n;const[s,a]=(0,i.usePageQueryParam)("workAgentsPage"),[o,l]=(0,i.usePageQueryParam)("workEventsPage"),[u,c]=(0,i.usePageQueryParam)("worksPage"),[d,h]=(0,r.useWorkQueryParam)({filters:null!==(n=null===(t=e.search)||void 0===t?void 0:t.filters)&&void 0!==n?n:[]},"query");return{onChangeFilters:e=>{a(void 0),l(void 0),c(void 0),h(Object.assign(Object.assign({},d),{filters:e}))},onSearch:e=>{a(void 0),l(void 0),c(void 0),h(Object.assign(Object.assign({},d),{text:e}))},setWorkAgentsPage:a,setWorkEventsPage:l,setWorkQuery:h,setWorksPage:c,workAgentsPage:s,workEventsPage:o,workQuery:d,worksPage:u}}},8163:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.workSearchWorkJoinSelector=void 0;t.workSearchWorkJoinSelector=e=>({agents:{thumbnail:{targetDimensions:e}},collections:{},events:{agents:{},work:{}},institution:{},propertyNamedValues:{thumbnail:{targetDimensions:e}},thumbnail:{targetDimensions:e}})},138:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonQueryParamConfig=void 0;t.JsonQueryParamConfig=class{encode(e){return e?JSON.stringify(e):void 0}decode(e){return e?JSON.parse(e):void 0}equals(e,t){return JSON.stringify(e)===JSON.stringify(t)}}},6169:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(138),t)},6627:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(2322),i=(n(2784),n(3241)),s=n(8140),a=n(9097),o=n(7729),l=n(5523),u=n(2304),c={fontSize:"xx-large"},d=function(e){var t,n=e.collection,d=e.children,h=e.configuration,m=e.currentWork,g=e.nextWork,f=e.previousWork,p=m?(0,u.getNamedModelLinks)(m):[];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.default,{children:[(0,r.jsx)("title",{children:n.title+(m?" - "+m.title:"")}),(0,r.jsx)("link",{rel:"stylesheet",href:null!==(t=h.bootstrapStylesheetHref)&&void 0!==t?t:l.defaultAppConfiguration.bootstrapStylesheetHref})]}),(0,r.jsxs)(s.wp,{className:"navbar-light py-0",children:[(0,r.jsx)(s.JL,{className:"navbar me-auto",children:(0,r.jsx)(s.LY,{className:"align-top",children:f?(0,r.jsx)(a.default,{href:i.P.work(f.uri),passHref:!0,children:(0,r.jsx)(s.OL,{style:c,children:"\u2039"})}):(0,r.jsx)("span",{style:c,children:"\xa0"})})}),(0,r.jsxs)("div",{className:"navbar-brand mx-auto",style:c,children:[(0,r.jsx)(a.default,{href:i.P.home,children:n.title}),m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"\xa0/\xa0"}),(0,r.jsx)(a.default,{href:i.P.work(m.uri),children:m.title})]}):null,p.length>0?(0,r.jsx)("div",{className:"text-center",style:{fontSize:"small"},children:p}):null]}),(0,r.jsx)(s.JL,{className:"navbar ms-auto h-100",children:(0,r.jsx)(s.LY,{children:g?(0,r.jsx)(a.default,{href:i.P.work(g.uri),passHref:!0,children:(0,r.jsx)(s.OL,{style:c,children:"\u203a"})}):(0,r.jsx)("span",{style:c})})})]}),d]})}},3241:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});var r=n(9056);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,s;return t=e,s=[{key:"home",get:function(){return"/"}},{key:"work",value:function(e){return"/work/".concat((0,r.encodeFileName)(e),"/")}}],(n=null)&&i(t.prototype,n),s&&i(t,s),e}()},4854:function(){},6602:function(){}}]);